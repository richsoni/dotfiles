tmux has-session -t tedev
if [ $? != 0 ]
then
  tmux new-session -s tedev -n exch -d
  #create splits, and windows
    #exchange
      tmux send-keys -t tedev 'cd ~/workspace/exchange/' C-m
      tmux split-window -h -t tedev
      tmux send-keys -t tedev:1.2 'cd ~/workspace/exchange/' C-m
      tmux split-window -v -t tedev
      tmux send-keys -t tedev:1.3 'cd ~/workspace/exchange/' C-m
    #pos
      tmux new-window -n pos -t tedev
      tmux send-keys -t tedev:2.1 'cd ~/workspace/pos.rb/' C-m
      tmux split-window -h -t tedev
      tmux send-keys -t tedev:2.2 'cd ~/workspace/pos.rb/' C-m
      tmux split-window -v -t tedev
      tmux send-keys -t tedev:2.3 'cd ~/workspace/pos.rb/' C-m
    #git
      tmux new-window -n git -t tedev
      tmux send-keys -t tedev:3.1 'cd ~/workspace/exchange/' C-m
      tmux split-window -h -p 66 -t tedev
      tmux send-keys -t tedev:3.2 'cd ~/workspace/pos.rb/' C-m
      tmux split-window -h -p 34 -t tedev
      tmux send-keys -t tedev:3.3 'cd ~/workspace/pos.rb/' C-m
    #db
      tmux new-window -n db -t tedev
      tmux send-keys -t tedev:4.1 'cd ~/workspace/exchange/' C-m
      tmux split-window -h -t tedev
      tmux send-keys -t tedev:4.1 'cd ~/workspace/exchange/' C-m
  #execute commands (right now needs ds start to run)
    #exchange
      tmux send-keys -t tedev:1.2 'vim' C-m
      tmux send-keys -t tedev:1.3 'ds - rails c' C-m
      tmux send-keys -t tedev:1.1 'ds - startc' C-m
    #pos
      tmux send-keys -t tedev:2.2 'vim' C-m
      tmux send-keys -t tedev:2.3 'ds - rails c' C-m
      tmux send-keys -t tedev:2.1 'ds - start' C-m
    #git
      tmux send-keys -t tedev:3.1 'gs' C-m
      tmux send-keys -t tedev:3.2 'gs' C-m
      tmux send-keys -t tedev:3.3 'ds - omglog' C-m
    #db
      tmux send-keys -t tedev:4.1 'ds - rails dbconsole' C-m
      tmux send-keys -t tedev:4.2 'vim' C-m
  #tmux send-keys -t tedev 'ds - startc' C-m
#  tmux send-keys -t tedev 'vim' C-m
#  tmux split-window -v -t tedev
#  tmux select-layout -t tedev main-horizontal
#  tmux send-keys -t tedev:1.2 'cd ~/test/' C-m
#  tmux new-window -n console -t tedev
#  tmux send-keys -t tedev:2 'cd ~/test/' C-m
#  tmux select-window -t tedev:1
fi
tmux attach -t tedev
