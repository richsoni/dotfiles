USAGE="Usage: csv_split file.csv (lines to be included use n..n as a range)"
if [ "$#" -lt 2  ]; then
  echo "$USAGE"
  exit 1
fi


filename=$1
shift


while (( "$#" )); do
  OIFS=$IFS
  IFS=".."
  read -ra group <<< "$1"
  IFS=$OIFS
  START=${group[0]}

  if [ ${group[2]} ]; then

    END=${group[2]}
    DIFF=$(($END-$START+1))
    echo "`head -${END} $filename | tail -${DIFF}`"

  else
    echo "`head -${START} $filename| tail -1`"
  fi
  shift
done
